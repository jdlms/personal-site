---
import Layout from "../layouts/Layout.astro";
import Intro from "../components/Intro.astro";
import Contact from "../components/Contact.astro";
import Extra from "../components/Extra.astro";
import { GET } from "./api/getWaves.ts";

type WaveResponse = {
  waveCount: number;
  error?: string;
};

let response = await GET(Astro);

const data: WaveResponse = await response.json();
const waveCount = data.waveCount;
---

<Layout title="jdlms.dev">
  <Intro />
  <Extra />
  <Contact totalWaves={waveCount} />
</Layout>
